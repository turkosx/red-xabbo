using System.Reactive.Linq;
using ReactiveUI;
using Xabbo.Configuration;
using Xabbo.Services.Abstractions;

namespace Xabbo.Services;

public sealed class LocalizationService : ReactiveObject, ILocalizationService
{
    private static readonly IReadOnlyDictionary<string, string> _english = new Dictionary<string, string>
    {
        ["main.language.tooltip"] = "Language / Idioma",
        ["main.error.reportIssueOn"] = "Report this issue on",
        ["main.error.github"] = "GitHub",
        ["page.general"] = "General",
        ["page.wardrobe"] = "Wardrobe",
        ["page.inventory"] = "Inventory",
        ["page.friends"] = "Friends",
        ["page.chat"] = "Chat",
        ["page.room"] = "Room",
        ["page.gameData"] = "Game data",
        ["page.info"] = "Info",
        ["page.settings"] = "Settings",
        ["page.navigator"] = "Navigator",
        ["page.profile"] = "Profile",
        ["wardrobe.importInGame"] = "Import in-game wardrobe",
        ["wardrobe.addCurrentFigure"] = "Add current figure",
        ["wardrobe.wearFigure"] = "Wear figure",
        ["friends.onlineOnly"] = "Online",
        ["friends.filter"] = "Filter",
        ["friends.remove"] = "Remove",
        ["room.tab.info"] = "Info",
        ["room.tab.users"] = "Users",
        ["room.tab.visitors"] = "Visitors",
        ["room.tab.bans"] = "Bans",
        ["room.tab.furni"] = "Furni",
        ["room.enterRoom"] = "Enter a room",
        ["room.furni.tab.list"] = "List",
        ["room.furni.tab.grid"] = "Grid",
        ["room.furni.tab.gifts"] = "Gifts",
        ["room.gifts.locateGift"] = "Locate gift",
        ["room.gifts.peekAll"] = "Peek all gifts",
        ["room.gifts.noneFound"] = "No gifts found",
        ["room.bans.filter"] = "Filter",
        ["room.bans.none"] = "No bans to show",
        ["room.bans.unban"] = "Unban",
        ["room.bans.load"] = "Load",
        ["room.bans.column.id"] = "id",
        ["room.bans.column.name"] = "name",
        ["room.furni.list.autoRefresh"] = "Auto-refresh",
        ["room.furni.list.filter"] = "Filter",
        ["room.furni.list.show"] = "Show",
        ["room.furni.list.hide"] = "Hide",
        ["room.furni.list.toggle"] = "Toggle",
        ["room.furni.list.rotate"] = "Rotate",
        ["room.furni.list.move"] = "Move",
        ["room.furni.list.pickUp"] = "Pick up",
        ["room.furni.list.eject"] = "Eject",
        ["room.furni.list.column.id"] = "id",
        ["room.furni.list.column.name"] = "name",
        ["room.furni.list.column.ownerId"] = "owner id",
        ["room.furni.list.column.ownerName"] = "owner name",
        ["room.gifts.peek"] = "Peek",
        ["room.visitors.column.id"] = "id",
        ["room.visitors.column.name"] = "name",
        ["room.visitors.column.lastEntered"] = "last entered",
        ["room.visitors.column.left"] = "left",
        ["room.visitors.column.visits"] = "visits",
        ["room.info.by"] = "by",
        ["room.info.roomId"] = "Room ID",
        ["room.info.ownerId"] = "Owner ID",
        ["room.info.category"] = "Category",
        ["room.info.access"] = "Access",
        ["room.info.maxUsers"] = "Max users",
        ["room.info.trading"] = "Trading",
        ["room.info.moderation"] = "Moderation",
        ["room.info.whoCanMute"] = "Who can mute",
        ["room.info.whoCanKick"] = "Who can kick",
        ["room.info.whoCanBan"] = "Who can ban",
        ["room.info.chat"] = "Chat",
        ["room.info.flow"] = "Flow",
        ["room.info.bubbleWidth"] = "Bubble width",
        ["room.info.scrollSpeed"] = "Scroll speed",
        ["room.info.talkHearingDistance"] = "Talk hearing distance",
        ["room.info.floodProtection"] = "Flood protection",
        ["room.avatars.menu.find"] = "Find",
        ["room.avatars.menu.addToWardrobe"] = "Add to wardrobe",
        ["room.avatars.menu.tradeUser"] = "Trade user",
        ["room.avatars.menu.copy"] = "Copy...",
        ["room.avatars.menu.copy.id"] = "ID",
        ["room.avatars.menu.copy.name"] = "Name",
        ["room.avatars.menu.copy.motto"] = "Motto",
        ["room.avatars.menu.copy.figure"] = "Figure",
        ["room.avatars.menu.openProfile"] = "Open profile...",
        ["room.avatars.menu.openProfile.inGame"] = "In-game",
        ["room.avatars.menu.openProfile.web"] = "On the web",
        ["room.avatars.menu.openProfile.habboWidgets"] = "On HabboWidgets",
        ["room.avatars.menu.moderate"] = "Moderate...",
        ["room.avatars.menu.mute"] = "Mute",
        ["room.avatars.menu.mute.2mins"] = "2 mins",
        ["room.avatars.menu.mute.5mins"] = "5 mins",
        ["room.avatars.menu.mute.10mins"] = "10 mins",
        ["room.avatars.menu.mute.15mins"] = "15 mins",
        ["room.avatars.menu.mute.30mins"] = "30 mins",
        ["room.avatars.menu.mute.1hour"] = "1 hour",
        ["room.avatars.menu.mute.6hours"] = "6 hours",
        ["room.avatars.menu.mute.12hours"] = "12 hours",
        ["room.avatars.menu.mute.24hours"] = "24 hours",
        ["room.avatars.menu.unmute"] = "Unmute",
        ["room.avatars.menu.kick"] = "Kick",
        ["room.avatars.menu.ban"] = "Ban",
        ["room.avatars.menu.ban.hour"] = "For an hour",
        ["room.avatars.menu.ban.day"] = "For a day",
        ["room.avatars.menu.ban.permanent"] = "Permanently",
        ["room.avatars.menu.bounce"] = "Bounce",
        ["room.avatars.menu.showBots"] = "Show bots",
        ["room.avatars.menu.showPets"] = "Show pets",
        ["room.avatars.column.index"] = "index",
        ["room.avatars.column.id"] = "id",
        ["room.avatars.column.name"] = "name",
        ["common.filter"] = "Filter",
        ["gameData.tab.furni"] = "Furni",
        ["gameData.tab.texts"] = "Texts",
        ["gameData.tab.variables"] = "Variables",
        ["gameData.furni.column.name"] = "name",
        ["gameData.furni.column.identifier"] = "identifier",
        ["gameData.furni.column.type"] = "type",
        ["gameData.furni.column.kind"] = "kind",
        ["gameData.furni.column.line"] = "line",
        ["gameData.furni.column.category"] = "category",
        ["inventory.tab.items"] = "Items",
        ["inventory.tab.photos"] = "Photos",
        ["inventory.menu.offer"] = "Offer",
        ["inventory.menu.place"] = "Place",
        ["inventory.menu.place.anywhere"] = "Anywhere",
        ["inventory.menu.place.selectedArea"] = "In selected area",
        ["inventory.menu.place.selectedTiles"] = "On selected tiles",
        ["inventory.menu.reload"] = "Reload",
        ["chat.roomEntry.by"] = "by",
        ["trade.offer.column.name"] = "name",
        ["trade.offer.column.amount"] = "amount",
        ["info.developedBy"] = "developed by",
        ["info.tagline"] = "Enhanced Habbo extension for G-Earth",
        ["info.project"] = "Project",
        ["info.version"] = "Current version",
        ["info.versionNote"] = "Build loaded from this executable",
        ["info.links"] = "Project links",
        ["info.links.github"] = "Open project on GitHub",
        ["info.links.issues"] = "Report a bug or request a feature",
        ["info.poweredBy"] = "Framework components",
        ["info.framework.common"] = "Common",
        ["info.framework.messages"] = "Messages",
        ["info.framework.gearth"] = "GEarth",
        ["info.framework.core"] = "Core",
        ["info.visit.prefix"] = "Visit",
        ["info.visit.suffix"] = "to learn more about the redxabbo project",
        ["info.issue.prefix"] = "Create an issue on",
        ["info.issue.suffix"] = "to report a bug or request a feature",

        ["settings.language.header"] = "Language",
        ["settings.language.description"] = "Choose the interface language",
        ["settings.language.label"] = "Interface language",
        ["settings.language.option.english"] = "English",
        ["settings.language.option.portugueseBrazil"] = "Portuguese (Brazil)",
        ["settings.chatlog.header"] = "Chat log",
        ["settings.chat.messages"] = "Messages",
        ["settings.chat.users"] = "Users",
        ["settings.chat.whispers"] = "Whispers",
        ["settings.chat.wired"] = "Wired",
        ["settings.chat.pets"] = "Pets",
        ["settings.chat.bots"] = "Bots",
        ["settings.chat.trades"] = "Trades",
        ["settings.chat.userEntry"] = "User enters or leaves",
        ["settings.timing.header"] = "Timing",
        ["settings.timing.description"] = "Adjust timing intervals",
        ["settings.timing.userModerationInterval"] = "User moderation interval",
        ["settings.timing.userModerationTip"] = "The time interval between moderating users",
        ["settings.timing.bounceUnbanDelay"] = "Bounce unban delay",
        ["settings.timing.bounceUnbanDelayTip"] = "When bouncing a user, the time to wait after banning the user, before unbanning the user again",
        ["settings.timing.furniPlacementInterval"] = "Furni placement interval",
        ["settings.timing.furniPlacementTip"] = "The time interval between placing furni",
        ["settings.timing.furniPickupInterval"] = "Furni pickup interval",
        ["settings.timing.furniPickupTip"] = "The time interval between picking up or ejecting furni",
        ["settings.timing.furniToggleInterval"] = "Furni toggle interval",
        ["settings.timing.furniToggleTip"] = "The time interval between toggling furni",
        ["settings.timing.furniMoveInterval"] = "Furni move interval",
        ["settings.timing.furniMoveTip"] = "The time interval between moving or rotating furni",
        ["settings.timing.tradeOfferInterval"] = "Trade offer interval",
        ["settings.timing.tradeOfferTip"] = "The time interval between offering items in a trade",
        ["settings.roomFurni.header"] = "Room furni view",
        ["settings.roomFurni.refreshInterval"] = "Dynamic filter refresh interval",
        ["settings.roomFurni.refreshIntervalDescription"] = "The time interval between filter refreshes while a dynamic filter is active. Lower values are more responsive but may cause issues when many furni are updating frequently.",
        ["settings.debug.header"] = "Debug",
        ["settings.debug.privacyMode"] = "Privacy mode",

        ["general.room"] = "Room",
        ["general.anti"] = "Anti",
        ["general.anti.idle"] = "Idle",
        ["general.anti.idleTip"] = "Prevents you from idling",
        ["general.anti.idleOut"] = "Idle-out",
        ["general.anti.idleOutTip"] = "Allows you to idle, but prevents you from leaving the room",
        ["general.anti.trade"] = "Trade",
        ["general.anti.tradeTip"] = "Prevents others from trading you",
        ["general.movement"] = "Movement",
        ["general.movement.noTurn"] = "No turn",
        ["general.movement.noTurnTip"] = "Don't turn when clicking another user",
        ["general.movement.noTurnExceptReselect"] = "except when re-selecting user",
        ["general.movement.noWalk"] = "No walk",
        ["general.movement.turnTowardsClickedTile"] = "turn towards tile clicked",
        ["general.movement.clickThroughUsers"] = "Click through users",
        ["general.movement.clickThroughUsersTip"] = "Allows you to click on tiles behind users to walk",
        ["general.clickTo"] = "Click to",
        ["general.clickTo.muteFor"] = "Mute for",
        ["general.clickTo.minutes"] = "minutes",
        ["general.clickTo.hours"] = "hours",
        ["general.clickTo.kick"] = "Kick",
        ["general.clickTo.banFor"] = "Ban for",
        ["general.clickTo.banHour"] = "an hour",
        ["general.clickTo.banDay"] = "a day",
        ["general.clickTo.banPermanent"] = "permanently",
        ["general.clickTo.bounce"] = "Bounce",
        ["general.clickTo.bounceTip"] = "Ban then unban - \"kicks\" the user with no kick alert",
        ["general.clickTo.exclude"] = "Exclude",
        ["general.clickTo.friends"] = "Friends",
        ["general.entry"] = "Entry",
        ["general.entry.rememberPasswords"] = "Remember room passwords",
        ["general.entry.autoAcceptFriendsDoor"] = "Auto accept friends at door",
        ["general.room.flattenFloorPlan"] = "Flatten floor plan",
        ["general.room.showSelfThroughFurni"] = "Show self through furni",
        ["general.room.hideAllAvatars"] = "Hide all avatars",
        ["general.chat"] = "Chat",
        ["general.chat.noTypingIndicator"] = "No typing indicator",
        ["general.chat.alwaysShout"] = "Always shout",
        ["general.chat.mute"] = "Mute",
        ["general.chat.mute.all"] = "All",
        ["general.chat.mute.bots"] = "Bots",
        ["general.chat.mute.pets"] = "Pets",
        ["general.chat.mute.petCommands"] = "Pet commands",
        ["general.chat.mute.wiredMessages"] = "Wired messages",
        ["general.chat.mute.respects"] = "Respects",
        ["general.chat.mute.scratches"] = "Scratches",
        ["general.chat.showWhoRespected"] = "Show who respected",
        ["general.chat.showTotalRespectCount"] = "Show total respect count",
        ["general.furni"] = "Furni",
        ["general.furni.preventUse"] = "Prevent using furni",
        ["general.furni.ctrlClickShowInfo"] = "Ctrl-click to show info",
        ["general.furni.ctrlClickMarketStats"] = "Ctrl-click to fetch marketplace stats",
        ["general.furni.ctrlClickHide"] = "Ctrl-click to hide",
        ["general.furni.ctrlClickTeleFindLink"] = "Ctrl-click tele to find link",
        ["general.handItem"] = "Hand item",
        ["general.handItem.dropReceived"] = "Drop received hand item",
        ["general.handItem.returnReceived"] = "Return received hand item",
        ["general.handItem.maintainDirection"] = "Try maintain direction when given hand item",
        ["general.tools"] = "Tools",
        ["general.tools.mimic.target"] = "Target",
        ["general.tools.mimic.noTarget"] = "No target selected",
        ["general.tools.mimic.selectHint"] = "Click a user in room to select",
        ["general.tools.mimic.start"] = "Start",
        ["general.tools.mimic.cancel"] = "Cancel",
        ["general.tools.mimic.stop"] = "Stop",
        ["general.tools.mimic.figure"] = "Figure",
        ["general.tools.mimic.motto"] = "Motto",
        ["general.tools.mimic.action"] = "Actions",
        ["general.tools.mimic.dance"] = "Dance",
        ["general.tools.mimic.sign"] = "Signs",
        ["general.tools.mimic.effect"] = "Effect",
        ["general.tools.mimic.sit"] = "Sit",
        ["general.tools.mimic.follow"] = "Follow",
        ["general.tools.mimic.typing"] = "Typing",
        ["general.tools.mimic.talk"] = "Talk",
        ["general.tools.mimic.shout"] = "Shout",
        ["general.tools.mimic.whisper"] = "Whisper",
        ["general.alerts"] = "Alerts",
        ["general.alerts.flashWindow"] = "Flash window",
        ["general.alerts.whisper"] = "Whisper",
        ["general.alerts.userChat"] = "User chat",
        ["general.alerts.friendChat"] = "Friend chat",
        ["general.alerts.userEntered"] = "User entered",
        ["general.alerts.friendEntered"] = "Friend entered",
        ["general.alerts.privateMessage"] = "Private message",
        ["general.misc"] = "Misc.",
        ["general.misc.blockHcGiftNotification"] = "Block HC gift notification",
        ["general.misc.backgroundToner"] = "Background toner",
    };

    private static readonly IReadOnlyDictionary<string, string> _portugueseBrazil = new Dictionary<string, string>
    {
        ["main.language.tooltip"] = "Idioma / Language",
        ["main.error.reportIssueOn"] = "Reporte este problema em",
        ["main.error.github"] = "GitHub",
        ["page.general"] = "Geral",
        ["page.wardrobe"] = "Guarda-roupa",
        ["page.inventory"] = "Inventário",
        ["page.friends"] = "Amigos",
        ["page.chat"] = "Chat",
        ["page.room"] = "Quarto",
        ["page.gameData"] = "Dados do Jogo",
        ["page.info"] = "Informações",
        ["page.settings"] = "Configurações",
        ["page.navigator"] = "Navegador",
        ["page.profile"] = "Perfil",
        ["wardrobe.importInGame"] = "Importar guarda-roupa do jogo",
        ["wardrobe.addCurrentFigure"] = "Adicionar figura atual",
        ["wardrobe.wearFigure"] = "Vestir figura",
        ["friends.onlineOnly"] = "Online",
        ["friends.filter"] = "Filtrar",
        ["friends.remove"] = "Remover",
        ["room.tab.info"] = "Info",
        ["room.tab.users"] = "Usuários",
        ["room.tab.visitors"] = "Visitantes",
        ["room.tab.bans"] = "Banimentos",
        ["room.tab.furni"] = "Furni",
        ["room.enterRoom"] = "Entre em um quarto",
        ["room.furni.tab.list"] = "Lista",
        ["room.furni.tab.grid"] = "Grade",
        ["room.furni.tab.gifts"] = "Presentes",
        ["room.gifts.locateGift"] = "Localizar presente",
        ["room.gifts.peekAll"] = "Ver todos os presentes",
        ["room.gifts.noneFound"] = "Nenhum presente encontrado",
        ["room.bans.filter"] = "Filtrar",
        ["room.bans.none"] = "Nenhum banimento para exibir",
        ["room.bans.unban"] = "Desbanir",
        ["room.bans.load"] = "Carregar",
        ["room.bans.column.id"] = "id",
        ["room.bans.column.name"] = "nome",
        ["room.furni.list.autoRefresh"] = "Atualização automática",
        ["room.furni.list.filter"] = "Filtrar",
        ["room.furni.list.show"] = "Mostrar",
        ["room.furni.list.hide"] = "Ocultar",
        ["room.furni.list.toggle"] = "Alternar",
        ["room.furni.list.rotate"] = "Girar",
        ["room.furni.list.move"] = "Mover",
        ["room.furni.list.pickUp"] = "Pegar",
        ["room.furni.list.eject"] = "Ejetar",
        ["room.furni.list.column.id"] = "id",
        ["room.furni.list.column.name"] = "nome",
        ["room.furni.list.column.ownerId"] = "id do dono",
        ["room.furni.list.column.ownerName"] = "nome do dono",
        ["room.gifts.peek"] = "Espiar",
        ["room.visitors.column.id"] = "id",
        ["room.visitors.column.name"] = "nome",
        ["room.visitors.column.lastEntered"] = "última entrada",
        ["room.visitors.column.left"] = "saiu",
        ["room.visitors.column.visits"] = "visitas",
        ["room.info.by"] = "por",
        ["room.info.roomId"] = "ID do quarto",
        ["room.info.ownerId"] = "ID do dono",
        ["room.info.category"] = "Categoria",
        ["room.info.access"] = "Acesso",
        ["room.info.maxUsers"] = "Máx. usuários",
        ["room.info.trading"] = "Trocas",
        ["room.info.moderation"] = "Moderação",
        ["room.info.whoCanMute"] = "Quem pode silenciar",
        ["room.info.whoCanKick"] = "Quem pode expulsar",
        ["room.info.whoCanBan"] = "Quem pode banir",
        ["room.info.chat"] = "Chat",
        ["room.info.flow"] = "Fluxo",
        ["room.info.bubbleWidth"] = "Largura da bolha",
        ["room.info.scrollSpeed"] = "Velocidade de rolagem",
        ["room.info.talkHearingDistance"] = "Distância de audição da fala",
        ["room.info.floodProtection"] = "Proteção contra flood",
        ["room.avatars.menu.find"] = "Encontrar",
        ["room.avatars.menu.addToWardrobe"] = "Adicionar ao guarda-roupa",
        ["room.avatars.menu.tradeUser"] = "Trocar com usuário",
        ["room.avatars.menu.copy"] = "Copiar...",
        ["room.avatars.menu.copy.id"] = "ID",
        ["room.avatars.menu.copy.name"] = "Nome",
        ["room.avatars.menu.copy.motto"] = "Missão",
        ["room.avatars.menu.copy.figure"] = "Figura",
        ["room.avatars.menu.openProfile"] = "Abrir perfil...",
        ["room.avatars.menu.openProfile.inGame"] = "No jogo",
        ["room.avatars.menu.openProfile.web"] = "Na web",
        ["room.avatars.menu.openProfile.habboWidgets"] = "No HabboWidgets",
        ["room.avatars.menu.moderate"] = "Moderar...",
        ["room.avatars.menu.mute"] = "Silenciar",
        ["room.avatars.menu.mute.2mins"] = "2 min",
        ["room.avatars.menu.mute.5mins"] = "5 min",
        ["room.avatars.menu.mute.10mins"] = "10 min",
        ["room.avatars.menu.mute.15mins"] = "15 min",
        ["room.avatars.menu.mute.30mins"] = "30 min",
        ["room.avatars.menu.mute.1hour"] = "1 hora",
        ["room.avatars.menu.mute.6hours"] = "6 horas",
        ["room.avatars.menu.mute.12hours"] = "12 horas",
        ["room.avatars.menu.mute.24hours"] = "24 horas",
        ["room.avatars.menu.unmute"] = "Remover silêncio",
        ["room.avatars.menu.kick"] = "Expulsar",
        ["room.avatars.menu.ban"] = "Banir",
        ["room.avatars.menu.ban.hour"] = "Por uma hora",
        ["room.avatars.menu.ban.day"] = "Por um dia",
        ["room.avatars.menu.ban.permanent"] = "Permanentemente",
        ["room.avatars.menu.bounce"] = "Bounce",
        ["room.avatars.menu.showBots"] = "Mostrar bots",
        ["room.avatars.menu.showPets"] = "Mostrar pets",
        ["room.avatars.column.index"] = "índice",
        ["room.avatars.column.id"] = "id",
        ["room.avatars.column.name"] = "nome",
        ["common.filter"] = "Filtrar",
        ["gameData.tab.furni"] = "Furni",
        ["gameData.tab.texts"] = "Textos",
        ["gameData.tab.variables"] = "Variáveis",
        ["gameData.furni.column.name"] = "nome",
        ["gameData.furni.column.identifier"] = "identificador",
        ["gameData.furni.column.type"] = "tipo",
        ["gameData.furni.column.kind"] = "classe",
        ["gameData.furni.column.line"] = "linha",
        ["gameData.furni.column.category"] = "categoria",
        ["inventory.tab.items"] = "Itens",
        ["inventory.tab.photos"] = "Fotos",
        ["inventory.menu.offer"] = "Oferecer",
        ["inventory.menu.place"] = "Posicionar",
        ["inventory.menu.place.anywhere"] = "Em qualquer lugar",
        ["inventory.menu.place.selectedArea"] = "Na área selecionada",
        ["inventory.menu.place.selectedTiles"] = "Nos pisos selecionados",
        ["inventory.menu.reload"] = "Recarregar",
        ["chat.roomEntry.by"] = "por",
        ["trade.offer.column.name"] = "nome",
        ["trade.offer.column.amount"] = "quantidade",
        ["info.developedBy"] = "desenvolvido por",
        ["info.tagline"] = "Extensao aprimorada para Habbo no G-Earth",
        ["info.project"] = "Projeto",
        ["info.version"] = "Versao atual",
        ["info.versionNote"] = "Build carregada deste executavel",
        ["info.links"] = "Links do projeto",
        ["info.links.github"] = "Abrir projeto no GitHub",
        ["info.links.issues"] = "Reportar bug ou solicitar funcionalidade",
        ["info.poweredBy"] = "Componentes do framework",
        ["info.framework.common"] = "Common",
        ["info.framework.messages"] = "Messages",
        ["info.framework.gearth"] = "GEarth",
        ["info.framework.core"] = "Core",
        ["info.visit.prefix"] = "Visite",
        ["info.visit.suffix"] = "para saber mais sobre o projeto redxabbo",
        ["info.issue.prefix"] = "Crie uma issue no",
        ["info.issue.suffix"] = "para reportar um bug ou solicitar uma funcionalidade",

        ["settings.language.header"] = "Idioma",
        ["settings.language.description"] = "Escolha o idioma da interface",
        ["settings.language.label"] = "Idioma da interface",
        ["settings.language.option.english"] = "Inglês",
        ["settings.language.option.portugueseBrazil"] = "Português (Brasil)",
        ["settings.chatlog.header"] = "Registro do chat",
        ["settings.chat.messages"] = "Mensagens",
        ["settings.chat.users"] = "Usuários",
        ["settings.chat.whispers"] = "Sussurros",
        ["settings.chat.wired"] = "Wired",
        ["settings.chat.pets"] = "Pets",
        ["settings.chat.bots"] = "Bots",
        ["settings.chat.trades"] = "Trocas",
        ["settings.chat.userEntry"] = "Usuário entra ou sai",
        ["settings.timing.header"] = "Temporização",
        ["settings.timing.description"] = "Ajuste os intervalos de tempo",
        ["settings.timing.userModerationInterval"] = "Intervalo de moderação de usuários",
        ["settings.timing.userModerationTip"] = "O intervalo entre ações de moderação de usuários",
        ["settings.timing.bounceUnbanDelay"] = "Atraso para desbanir no bounce",
        ["settings.timing.bounceUnbanDelayTip"] = "Ao usar bounce em um usuário, tempo de espera após banir antes de desbanir novamente",
        ["settings.timing.furniPlacementInterval"] = "Intervalo de posicionamento de furni",
        ["settings.timing.furniPlacementTip"] = "O intervalo entre posicionamentos de furni",
        ["settings.timing.furniPickupInterval"] = "Intervalo de recolhimento de furni",
        ["settings.timing.furniPickupTip"] = "O intervalo entre recolher ou ejetar furni",
        ["settings.timing.furniToggleInterval"] = "Intervalo de alternância de furni",
        ["settings.timing.furniToggleTip"] = "O intervalo entre alternâncias de furni",
        ["settings.timing.furniMoveInterval"] = "Intervalo de movimentação de furni",
        ["settings.timing.furniMoveTip"] = "O intervalo entre mover ou girar furni",
        ["settings.timing.tradeOfferInterval"] = "Intervalo de oferta em troca",
        ["settings.timing.tradeOfferTip"] = "O intervalo entre ofertas de itens em uma troca",
        ["settings.roomFurni.header"] = "Visualização de móveis do quarto",
        ["settings.roomFurni.refreshInterval"] = "Intervalo de atualização do filtro dinâmico",
        ["settings.roomFurni.refreshIntervalDescription"] = "O intervalo entre atualizações do filtro enquanto um filtro dinâmico está ativo. Valores menores respondem melhor, mas podem causar problemas quando muitos móveis são atualizados com frequência.",
        ["settings.debug.header"] = "Depuração",
        ["settings.debug.privacyMode"] = "Modo privacidade",

        ["general.room"] = "Quarto",
        ["general.anti"] = "Anti",
        ["general.anti.idle"] = "Inatividade",
        ["general.anti.idleTip"] = "Impede você de ficar inativo",
        ["general.anti.idleOut"] = "Saída por inatividade",
        ["general.anti.idleOutTip"] = "Permite inatividade, mas impede você de sair do quarto",
        ["general.anti.trade"] = "Troca",
        ["general.anti.tradeTip"] = "Impede que outras pessoas iniciem troca com você",
        ["general.movement"] = "Movimento",
        ["general.movement.noTurn"] = "Sem virar",
        ["general.movement.noTurnTip"] = "Não vira ao clicar em outro usuário",
        ["general.movement.noTurnExceptReselect"] = "exceto ao selecionar novamente o usuário",
        ["general.movement.noWalk"] = "Sem andar",
        ["general.movement.turnTowardsClickedTile"] = "virar para o piso clicado",
        ["general.movement.clickThroughUsers"] = "Clicar através de usuários",
        ["general.movement.clickThroughUsersTip"] = "Permite clicar em pisos atrás de usuários para andar",
        ["general.clickTo"] = "Clique para",
        ["general.clickTo.muteFor"] = "Mutar por",
        ["general.clickTo.minutes"] = "minutos",
        ["general.clickTo.hours"] = "horas",
        ["general.clickTo.kick"] = "Expulsar",
        ["general.clickTo.banFor"] = "Banir por",
        ["general.clickTo.banHour"] = "uma hora",
        ["general.clickTo.banDay"] = "um dia",
        ["general.clickTo.banPermanent"] = "permanentemente",
        ["general.clickTo.bounce"] = "Bounce",
        ["general.clickTo.bounceTip"] = "Bane e desbane em seguida, \"expulsando\" o usuário sem alerta de kick",
        ["general.clickTo.exclude"] = "Excluir",
        ["general.clickTo.friends"] = "Amigos",
        ["general.entry"] = "Entrada",
        ["general.entry.rememberPasswords"] = "Lembrar senhas de quarto",
        ["general.entry.autoAcceptFriendsDoor"] = "Aceitar amigos automaticamente na porta",
        ["general.room.flattenFloorPlan"] = "Nivelar piso do quarto",
        ["general.room.showSelfThroughFurni"] = "Mostrar você através dos furnis",
        ["general.room.hideAllAvatars"] = "Ocultar todos os avatares",
        ["general.chat"] = "Chat",
        ["general.chat.noTypingIndicator"] = "Sem indicador de digitação",
        ["general.chat.alwaysShout"] = "Sempre gritar",
        ["general.chat.mute"] = "Silenciar",
        ["general.chat.mute.all"] = "Todos",
        ["general.chat.mute.bots"] = "Bots",
        ["general.chat.mute.pets"] = "Pets",
        ["general.chat.mute.petCommands"] = "Comandos de pet",
        ["general.chat.mute.wiredMessages"] = "Mensagens de wired",
        ["general.chat.mute.respects"] = "Respeitos",
        ["general.chat.mute.scratches"] = "Coçadinhas",
        ["general.chat.showWhoRespected"] = "Mostrar quem respeitou",
        ["general.chat.showTotalRespectCount"] = "Mostrar total de respeitos",
        ["general.furni"] = "Furni",
        ["general.furni.preventUse"] = "Impedir uso de furni",
        ["general.furni.ctrlClickShowInfo"] = "Ctrl+clique para mostrar info",
        ["general.furni.ctrlClickMarketStats"] = "Ctrl+clique para buscar estatísticas do mercado",
        ["general.furni.ctrlClickHide"] = "Ctrl+clique para ocultar",
        ["general.furni.ctrlClickTeleFindLink"] = "Ctrl+clique no tele para achar ligação",
        ["general.handItem"] = "Item de mão",
        ["general.handItem.dropReceived"] = "Largar item de mão recebido",
        ["general.handItem.returnReceived"] = "Devolver item de mão recebido",
        ["general.handItem.maintainDirection"] = "Tentar manter direção ao receber item de mão",
        ["general.tools"] = "Ferramentas",
        ["general.tools.mimic.target"] = "Alvo",
        ["general.tools.mimic.noTarget"] = "Nenhum alvo selecionado",
        ["general.tools.mimic.selectHint"] = "Clique em um usuario no quarto para selecionar",
        ["general.tools.mimic.start"] = "Iniciar",
        ["general.tools.mimic.cancel"] = "Cancelar",
        ["general.tools.mimic.stop"] = "Parar",
        ["general.tools.mimic.figure"] = "Figura",
        ["general.tools.mimic.motto"] = "Missao",
        ["general.tools.mimic.action"] = "Acoes",
        ["general.tools.mimic.dance"] = "Danca",
        ["general.tools.mimic.sign"] = "Sinais",
        ["general.tools.mimic.effect"] = "Efeito",
        ["general.tools.mimic.sit"] = "Sentar",
        ["general.tools.mimic.follow"] = "Seguir",
        ["general.tools.mimic.typing"] = "Digitando",
        ["general.tools.mimic.talk"] = "Falar",
        ["general.tools.mimic.shout"] = "Gritar",
        ["general.tools.mimic.whisper"] = "Sussurrar",
        ["general.alerts"] = "Alertas",
        ["general.alerts.flashWindow"] = "Piscar janela",
        ["general.alerts.whisper"] = "Sussurro",
        ["general.alerts.userChat"] = "Chat de usuário",
        ["general.alerts.friendChat"] = "Chat de amigo",
        ["general.alerts.userEntered"] = "Usuário entrou",
        ["general.alerts.friendEntered"] = "Amigo entrou",
        ["general.alerts.privateMessage"] = "Mensagem privada",
        ["general.misc"] = "Diversos",
        ["general.misc.blockHcGiftNotification"] = "Bloquear notificação de presente HC",
        ["general.misc.backgroundToner"] = "Tonalizador de fundo",
    };

    private static readonly IReadOnlyDictionary<UiLanguage, IReadOnlyDictionary<string, string>> _translations =
        new Dictionary<UiLanguage, IReadOnlyDictionary<string, string>>
    {
        [UiLanguage.English] = _english,
        [UiLanguage.PortugueseBrazil] = _portugueseBrazil,
    };

    [Reactive] public UiLanguage CurrentLanguage { get; private set; }
    public string this[string key] => Get(key);

    public event Action? LanguageChanged;

    public LocalizationService(IConfigProvider<AppConfig> config)
    {
        CurrentLanguage = config.Value.General.Language;

        config
            .WhenAnyValue(x => x.Value.General.Language)
            .DistinctUntilChanged()
            .Subscribe(SetLanguage);
    }

    public string Get(string key)
    {
        if (_translations[CurrentLanguage].TryGetValue(key, out string? value))
            return value;

        if (_english.TryGetValue(key, out value))
            return value;

        return key;
    }

    public void SetLanguage(UiLanguage language)
    {
        if (CurrentLanguage == language)
            return;

        CurrentLanguage = language;
        this.RaisePropertyChanged("Item[]");
        LanguageChanged?.Invoke();
    }
}
